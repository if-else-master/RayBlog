<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/RayBlog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/RayBlog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/RayBlog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/RayBlog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/RayBlog/css/main.css">


<link rel="stylesheet" href="/RayBlog/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"if-else-master.github.io","root":"/RayBlog/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":true,"show_result":false,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="Deep-Video-Translation     åœ¨åœ‹éš›äº¤æµåˆ†äº«    ğŸ“‹ å‰è¨€åœ¨æ•¸ä½å¯¦é©—é«˜ä¸­ï¼Œæˆ‘å€‘ç©æ¥µæ¨å‹•åœ‹éš›åŒ–æ•™è‚²ï¼Œä¸¦èˆ‡ä¾†è‡ªä¸–ç•Œå„åœ°çš„å­¸æ ¡å±•é–‹äº¤æµèˆ‡åˆä½œã€‚ç‚ºäº†çªç ´èªè¨€éšœç¤™ï¼Œè®“æ›´å¤šäººäº†è§£æˆ‘å€‘çš„éåŒæ­¥èª²ç¨‹èˆ‡ç¤¾åœ˜æ´»å‹•ï¼Œæˆ‘é–‹å§‹é–‹ç™¼ä¸€å¥—AIæ·±åº¦å½±ç‰‡ç¿»è­¯ç³»çµ±ã€‚é€™å¥—ç³»çµ±çµåˆèªéŸ³è­˜åˆ¥ã€éŸ³è‰²è¤‡è£½ã€å˜´å½¢èª¿æ•´èˆ‡ç°¡å ±ç¿»è­¯ç­‰åŠŸèƒ½ï¼Œèƒ½å°‡ä¸­æ–‡å½±ç‰‡å…§å®¹ç¿»è­¯æˆå¤šåœ‹èªè¨€ï¼Œä¸¦ä¿ç•™è¬›è€…åŸæœ¬çš„éŸ³è‰²èˆ‡é¢¨æ ¼ï¼Œæ‰“é€ å‡ºé«˜æ“¬çœŸçš„å¤šèªç‰ˆæœ¬æ•™">
<meta property="og:type" content="article">
<meta property="og:title" content="Deep-Video-Translation">
<meta property="og:url" content="https://if-else-master.github.io/RayBlog/2025/03/05/Deep-Video-Translation/index.html">
<meta property="og:site_name" content="Ray&#39;s Blog">
<meta property="og:description" content="Deep-Video-Translation     åœ¨åœ‹éš›äº¤æµåˆ†äº«    ğŸ“‹ å‰è¨€åœ¨æ•¸ä½å¯¦é©—é«˜ä¸­ï¼Œæˆ‘å€‘ç©æ¥µæ¨å‹•åœ‹éš›åŒ–æ•™è‚²ï¼Œä¸¦èˆ‡ä¾†è‡ªä¸–ç•Œå„åœ°çš„å­¸æ ¡å±•é–‹äº¤æµèˆ‡åˆä½œã€‚ç‚ºäº†çªç ´èªè¨€éšœç¤™ï¼Œè®“æ›´å¤šäººäº†è§£æˆ‘å€‘çš„éåŒæ­¥èª²ç¨‹èˆ‡ç¤¾åœ˜æ´»å‹•ï¼Œæˆ‘é–‹å§‹é–‹ç™¼ä¸€å¥—AIæ·±åº¦å½±ç‰‡ç¿»è­¯ç³»çµ±ã€‚é€™å¥—ç³»çµ±çµåˆèªéŸ³è­˜åˆ¥ã€éŸ³è‰²è¤‡è£½ã€å˜´å½¢èª¿æ•´èˆ‡ç°¡å ±ç¿»è­¯ç­‰åŠŸèƒ½ï¼Œèƒ½å°‡ä¸­æ–‡å½±ç‰‡å…§å®¹ç¿»è­¯æˆå¤šåœ‹èªè¨€ï¼Œä¸¦ä¿ç•™è¬›è€…åŸæœ¬çš„éŸ³è‰²èˆ‡é¢¨æ ¼ï¼Œæ‰“é€ å‡ºé«˜æ“¬çœŸçš„å¤šèªç‰ˆæœ¬æ•™">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2025-03-04T16:00:00.000Z">
<meta property="article:modified_time" content="2025-07-09T16:00:00.000Z">
<meta property="article:author" content="Ray">
<meta property="article:tag" content="è»Ÿé«”">
<meta property="article:tag" content="AI">
<meta property="article:tag" content="å€‹äººå°ˆæ¡ˆ">
<meta property="article:tag" content="æ•™è‚²">
<meta property="article:tag" content="åœ‹éš›äº¤æµ">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://if-else-master.github.io/RayBlog/2025/03/05/Deep-Video-Translation/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-TW'
  };
</script>

  <title>Deep-Video-Translation | Ray's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ›å°èˆªæ¬„">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/RayBlog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Ray's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">I am Ray</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/RayBlog/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é </a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/RayBlog/about/" rel="section"><i class="fa fa-user fa-fw"></i>é—œæ–¼</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/RayBlog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ¨™ç±¤</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/RayBlog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>æ­¸æª”</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœå°‹
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="æœå°‹..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    

  <a href="https://github.com/yourname" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://if-else-master.github.io/RayBlog/2025/03/05/Deep-Video-Translation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/RayBlog/images/RayMe.png">
      <meta itemprop="name" content="Ray">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ray's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Deep-Video-Translation
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">ç™¼è¡¨æ–¼</span>

              <time title="å‰µå»ºæ™‚é–“ï¼š2025-03-05 00:00:00" itemprop="dateCreated datePublished" datetime="2025-03-05T00:00:00+08:00">2025-03-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°æ–¼</span>
                <time title="ä¿®æ”¹æ™‚é–“ï¼š2025-07-10 00:00:00" itemprop="dateModified" datetime="2025-07-10T00:00:00+08:00">2025-07-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Deep-Video-Translation"><a href="#Deep-Video-Translation" class="headerlink" title="Deep-Video-Translation"></a>Deep-Video-Translation</h1><div style="font-size: 0.9em; color: gray;">
    åœ¨åœ‹éš›äº¤æµåˆ†äº«
</div>


<h2 id="ğŸ“‹-å‰è¨€"><a href="#ğŸ“‹-å‰è¨€" class="headerlink" title="ğŸ“‹ å‰è¨€"></a>ğŸ“‹ å‰è¨€</h2><p>åœ¨æ•¸ä½å¯¦é©—é«˜ä¸­ï¼Œæˆ‘å€‘ç©æ¥µæ¨å‹•åœ‹éš›åŒ–æ•™è‚²ï¼Œä¸¦èˆ‡ä¾†è‡ªä¸–ç•Œå„åœ°çš„å­¸æ ¡å±•é–‹äº¤æµèˆ‡åˆä½œã€‚ç‚ºäº†çªç ´èªè¨€éšœç¤™ï¼Œè®“æ›´å¤šäººäº†è§£æˆ‘å€‘çš„éåŒæ­¥èª²ç¨‹èˆ‡ç¤¾åœ˜æ´»å‹•ï¼Œæˆ‘é–‹å§‹é–‹ç™¼ä¸€å¥—AIæ·±åº¦å½±ç‰‡ç¿»è­¯ç³»çµ±ã€‚é€™å¥—ç³»çµ±çµåˆèªéŸ³è­˜åˆ¥ã€éŸ³è‰²è¤‡è£½ã€å˜´å½¢èª¿æ•´èˆ‡ç°¡å ±ç¿»è­¯ç­‰åŠŸèƒ½ï¼Œèƒ½å°‡ä¸­æ–‡å½±ç‰‡å…§å®¹ç¿»è­¯æˆå¤šåœ‹èªè¨€ï¼Œä¸¦ä¿ç•™è¬›è€…åŸæœ¬çš„éŸ³è‰²èˆ‡é¢¨æ ¼ï¼Œæ‰“é€ å‡ºé«˜æ“¬çœŸçš„å¤šèªç‰ˆæœ¬æ•™å­¸å½±ç‰‡ã€‚å¸Œæœ›é€éé€™æ¨£çš„æŠ€è¡“ï¼Œè®“æˆ‘å€‘çš„èª²ç¨‹å…§å®¹è¢«æ›´å¤šåœ‹éš›è§€çœ¾ç†è§£èˆ‡æ¥å—ï¼Œä¿ƒé€²è·¨æ–‡åŒ–çš„æ•™è‚²äº¤æµã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/if-else-master/Deep-Video-Translation.git</span><br></pre></td></tr></table></figure>

<span id="more"></span>
<p>AI æ·±åº¦å½±ç‰‡ç¿»è­¯ç³»çµ±ï¼Œé›†æˆèªéŸ³è­˜åˆ¥ã€èªéŸ³è¤‡è£½ã€å˜´å½¢èª¿æ•´å’Œ OCR ç°¡å ±ç¿»è­¯åŠŸèƒ½ã€‚</p>
<h2 id="ğŸ¯-å°ˆæ¡ˆç‰¹è‰²"><a href="#ğŸ¯-å°ˆæ¡ˆç‰¹è‰²" class="headerlink" title="ğŸ¯ å°ˆæ¡ˆç‰¹è‰²"></a>ğŸ¯ å°ˆæ¡ˆç‰¹è‰²</h2><ul>
<li><strong>ğŸ¤ å¤šèªè¨€èªéŸ³è­˜åˆ¥èˆ‡ç¿»è­¯</strong>ï¼šæ”¯æ´ä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡çš„èªéŸ³è­˜åˆ¥å’Œç¿»è­¯</li>
<li><strong>ğŸ—£ï¸ AI èªéŸ³å…‹éš†</strong>ï¼šä½¿ç”¨ XTTS-v2 æ¨¡å‹é€²è¡Œé«˜å“è³ªèªéŸ³åˆæˆ</li>
<li><strong>ğŸ‘„ å˜´å½¢åŒæ­¥</strong>ï¼šåˆ©ç”¨ Wav2Lip æŠ€è¡“å¯¦ç¾ç²¾ç¢ºçš„å”‡èªåŒæ­¥</li>
<li><strong>ğŸ“Š OCRç°¡å ±ç¿»è­¯</strong>ï¼šè‡ªå‹•è­˜åˆ¥ç°¡å ±é é¢ä¸¦é€²è¡Œ OCR æ–‡å­—ç¿»è­¯</li>
<li><strong>ğŸ§  æ™ºèƒ½åˆ†æ®µè™•ç†</strong>ï¼šè‡ªå‹•å€åˆ†äººè‡‰è¬›è©±èˆ‡ç°¡å ±å±•ç¤ºï¼Œåˆ†åˆ¥è™•ç†å¾Œæ™ºèƒ½åˆä½µ</li>
<li><strong>ğŸ¬ å¤šé‡åˆä½µç­–ç•¥</strong>ï¼šè§£æ±ºä¸åŒè§£æåº¦è¦–é »åˆä½µå•é¡Œï¼Œç¢ºä¿å®Œæ•´è¼¸å‡º</li>
<li><strong>ğŸ–¥ï¸ åœ–å½¢åŒ–ç•Œé¢</strong>ï¼štkinter GUI æ“ä½œä»‹é¢</li>
</ul>
<h2 id="ğŸ› ï¸-æŠ€è¡“æ¶æ§‹"><a href="#ğŸ› ï¸-æŠ€è¡“æ¶æ§‹" class="headerlink" title="ğŸ› ï¸ æŠ€è¡“æ¶æ§‹"></a>ğŸ› ï¸ æŠ€è¡“æ¶æ§‹</h2><h3 id="æ ¸å¿ƒé–‹æºçµ„ä»¶"><a href="#æ ¸å¿ƒé–‹æºçµ„ä»¶" class="headerlink" title="æ ¸å¿ƒé–‹æºçµ„ä»¶"></a>æ ¸å¿ƒé–‹æºçµ„ä»¶</h3><table>
<thead>
<tr>
<th>çµ„ä»¶</th>
<th>åŠŸèƒ½</th>
<th>å®˜æ–¹é€£çµ</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Gemini API</strong></td>
<td>èªéŸ³è­˜åˆ¥èˆ‡æ–‡å­—ç¿»è­¯</td>
<td><a target="_blank" rel="noopener" href="https://ai.google.dev/">Google Gemini</a></td>
</tr>
<tr>
<td><strong>XTTS-v2</strong></td>
<td>èªéŸ³å…‹éš†èˆ‡åˆæˆ</td>
<td><a target="_blank" rel="noopener" href="https://github.com/coqui-ai/TTS">Coqui TTS</a></td>
</tr>
<tr>
<td><strong>Wav2Lip</strong></td>
<td>å˜´å½¢åŒæ­¥æŠ€è¡“</td>
<td><a target="_blank" rel="noopener" href="https://github.com/Rudrabha/Wav2Lip">Wav2Lip</a></td>
</tr>
<tr>
<td><strong>EasyOCR</strong></td>
<td>å…‰å­¸å­—ç¬¦è­˜åˆ¥</td>
<td><a target="_blank" rel="noopener" href="https://github.com/JaidedAI/EasyOCR">EasyOCR</a></td>
</tr>
<tr>
<td><strong>OpenCV</strong></td>
<td>è¨ˆç®—æ©Ÿè¦–è¦ºè™•ç†</td>
<td><a target="_blank" rel="noopener" href="https://opencv.org/">OpenCV</a></td>
</tr>
<tr>
<td><strong>PIL&#x2F;Pillow</strong></td>
<td>åœ–åƒè™•ç†</td>
<td><a target="_blank" rel="noopener" href="https://pillow.readthedocs.io/">Pillow</a></td>
</tr>
</tbody></table>
<h3 id="å·¥å…·èˆ‡æ¡†æ¶"><a href="#å·¥å…·èˆ‡æ¡†æ¶" class="headerlink" title="å·¥å…·èˆ‡æ¡†æ¶"></a>å·¥å…·èˆ‡æ¡†æ¶</h3><ul>
<li><strong>Python 3.10</strong></li>
<li><strong>PyTorch</strong> - æ·±åº¦å­¸ç¿’æ¡†æ¶</li>
<li><strong>FFmpeg</strong> - éŸ³è¦–é »è™•ç†</li>
<li><strong>tkinter</strong> - GUI ç•Œé¢</li>
<li><strong>NumPy</strong> - æ•¸å€¼è¨ˆç®—</li>
<li><strong>ImageHash</strong> - åœ–åƒå“ˆå¸Œæ¯”è¼ƒ</li>
</ul>
<h2 id="ğŸš€-åŠŸèƒ½å±•ç¤º"><a href="#ğŸš€-åŠŸèƒ½å±•ç¤º" class="headerlink" title="ğŸš€ åŠŸèƒ½å±•ç¤º"></a>ğŸš€ åŠŸèƒ½å±•ç¤º</h2><h3 id="1-èªéŸ³è­˜åˆ¥èˆ‡ç¿»è­¯"><a href="#1-èªéŸ³è­˜åˆ¥èˆ‡ç¿»è­¯" class="headerlink" title="1. èªéŸ³è­˜åˆ¥èˆ‡ç¿»è­¯"></a>1. èªéŸ³è­˜åˆ¥èˆ‡ç¿»è­¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">voice</span>(<span class="params">voice_file, api_key, target_language=<span class="string">&quot;æ—¥æ–‡&quot;</span></span>):</span><br><span class="line">    client = genai.Client(api_key=api_key)</span><br><span class="line">    myfile = client.files.upload(file=voice_file)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç­‰å¾…æ–‡ä»¶è™•ç†å®Œæˆ</span></span><br><span class="line">    <span class="keyword">while</span> myfile.state == <span class="string">&quot;PROCESSING&quot;</span>:</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line">        myfile = client.files.get(name=myfile.name)</span><br><span class="line">    </span><br><span class="line">    language_prompts = &#123;</span><br><span class="line">        <span class="string">&quot;æ—¥æ–‡&quot;</span>: <span class="string">&quot;å°‡éŸ³æª”å…§å®¹è¼¸å‡ºæˆé€å­—ç¨¿ä¸¦ç¿»è­¯æˆæ—¥æ–‡ï¼Œæœ€å¾Œåªè¦è¼¸å‡ºç¿»è­¯éå¾Œçš„é€å­—ç¨¿&quot;</span>,</span><br><span class="line">        <span class="string">&quot;è‹±æ–‡&quot;</span>: <span class="string">&quot;å°‡éŸ³æª”å…§å®¹è¼¸å‡ºæˆé€å­—ç¨¿ä¸¦ç¿»è­¯æˆè‹±æ–‡ï¼Œæœ€å¾Œåªè¦è¼¸å‡ºç¿»è­¯éå¾Œçš„é€å­—ç¨¿&quot;</span>,</span><br><span class="line">        <span class="string">&quot;ä¸­æ–‡&quot;</span>: <span class="string">&quot;å°‡éŸ³æª”å…§å®¹è¼¸å‡ºæˆé€å­—ç¨¿ï¼Œå¦‚æœåŸæœ¬å°±æ˜¯ä¸­æ–‡å°±ç›´æ¥è¼¸å‡ºé€å­—ç¨¿ï¼Œå¦‚æœæ˜¯å…¶ä»–èªè¨€å°±ç¿»è­¯æˆä¸­æ–‡&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    prompt = language_prompts.get(target_language, language_prompts[<span class="string">&quot;æ—¥æ–‡&quot;</span>])</span><br><span class="line">    response = client.models.generate_content(</span><br><span class="line">        model=<span class="string">&quot;gemini-2.0-flash-lite&quot;</span>, contents=[prompt, myfile]</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> response.text</span><br></pre></td></tr></table></figure>

<h3 id="2-èªéŸ³å…‹éš†-XTTS-v2"><a href="#2-èªéŸ³å…‹éš†-XTTS-v2" class="headerlink" title="2. èªéŸ³å…‹éš† (XTTS-v2)"></a>2. èªéŸ³å…‹éš† (XTTS-v2)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">xttsv</span>(<span class="params">text, reference_audio, output_audio, language=<span class="string">&quot;æ—¥æ–‡&quot;</span></span>):</span><br><span class="line">    <span class="keyword">from</span> TTS.tts.configs.xtts_config <span class="keyword">import</span> XttsConfig</span><br><span class="line">    <span class="keyword">from</span> TTS.tts.models.xtts <span class="keyword">import</span> Xtts</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è¼‰å…¥æ¨¡å‹</span></span><br><span class="line">    config = XttsConfig()</span><br><span class="line">    config.load_json(<span class="string">&quot;app/XTTS-v2/config.json&quot;</span>)</span><br><span class="line">    model = Xtts.init_from_config(config)</span><br><span class="line">    model.load_checkpoint(config, checkpoint_dir=<span class="string">&quot;app/XTTS-v2/&quot;</span>, <span class="built_in">eval</span>=<span class="literal">True</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># èªéŸ³åˆæˆ</span></span><br><span class="line">    outputs = model.synthesize(</span><br><span class="line">        text,</span><br><span class="line">        config,</span><br><span class="line">        speaker_wav=reference_audio,</span><br><span class="line">        gpt_cond_len=<span class="number">3</span>,</span><br><span class="line">        language=language_code,</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ä¿å­˜éŸ³é »</span></span><br><span class="line">    torchaudio.save(output_audio, torch.tensor(outputs[<span class="string">&quot;wav&quot;</span>]).unsqueeze(<span class="number">0</span>), <span class="number">24000</span>)</span><br><span class="line">    <span class="keyword">return</span> output_audio</span><br></pre></td></tr></table></figure>

<h3 id="3-å˜´å½¢åŒæ­¥-Wav2Lip"><a href="#3-å˜´å½¢åŒæ­¥-Wav2Lip" class="headerlink" title="3. å˜´å½¢åŒæ­¥ (Wav2Lip)"></a>3. å˜´å½¢åŒæ­¥ (Wav2Lip)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">run_inference</span>(<span class="params">face_path, audio_path, output_path</span>):</span><br><span class="line">    <span class="comment"># è¼‰å…¥è¦–é »</span></span><br><span class="line">    video_stream = cv2.VideoCapture(face_path)</span><br><span class="line">    fps = video_stream.get(cv2.CAP_PROP_FPS)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è®€å–æ‰€æœ‰å¹€</span></span><br><span class="line">    full_frames = []</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        still_reading, frame = video_stream.read()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> still_reading:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        full_frames.append(frame)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è™•ç†éŸ³é »</span></span><br><span class="line">    wav = audio.load_wav(audio_path, <span class="number">16000</span>)</span><br><span class="line">    mel = audio.melspectrogram(wav)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è¼‰å…¥ Wav2Lip æ¨¡å‹</span></span><br><span class="line">    model = load_model(<span class="string">&quot;app/Wav2Lip/checkpoints/wav2lip.pth&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç”ŸæˆåŒæ­¥è¦–é »</span></span><br><span class="line">    <span class="keyword">for</span> img_batch, mel_batch, frames, coords <span class="keyword">in</span> datagen(full_frames, mel_chunks):</span><br><span class="line">        pred = model(mel_batch, img_batch)</span><br><span class="line">        <span class="comment"># å°‡é æ¸¬çµæœåˆæˆåˆ°åŸå§‹å¹€ä¸­</span></span><br><span class="line">        <span class="keyword">for</span> p, f, c <span class="keyword">in</span> <span class="built_in">zip</span>(pred, frames, coords):</span><br><span class="line">            y1, y2, x1, x2 = c</span><br><span class="line">            p = cv2.resize(p.astype(np.uint8), (x2 - x1, y2 - y1))</span><br><span class="line">            f[y1:y2, x1:x2] = p</span><br><span class="line">            out.write(f)</span><br></pre></td></tr></table></figure>

<h3 id="4-æ™ºèƒ½åˆ†æ®µè™•ç†ç³»çµ±"><a href="#4-æ™ºèƒ½åˆ†æ®µè™•ç†ç³»çµ±" class="headerlink" title="4. æ™ºèƒ½åˆ†æ®µè™•ç†ç³»çµ±"></a>4. æ™ºèƒ½åˆ†æ®µè™•ç†ç³»çµ±</h3><h4 id="ğŸ§ -æ™ºèƒ½åˆ†æ®µè™•ç†æ¶æ§‹"><a href="#ğŸ§ -æ™ºèƒ½åˆ†æ®µè™•ç†æ¶æ§‹" class="headerlink" title="ğŸ§  æ™ºèƒ½åˆ†æ®µè™•ç†æ¶æ§‹"></a>ğŸ§  æ™ºèƒ½åˆ†æ®µè™•ç†æ¶æ§‹</h4><p>ç³»çµ±çš„æ ¸å¿ƒå‰µæ–°åœ¨æ–¼<strong>æ™ºèƒ½åˆ†æ®µè™•ç†</strong>ï¼Œèƒ½å¤ è‡ªå‹•åˆ†æè¦–é »å…§å®¹ï¼Œå€åˆ†ã€Œäººè‡‰è¬›è©±ç‰‡æ®µã€å’Œã€Œç°¡å ±å±•ç¤ºç‰‡æ®µã€ï¼Œåˆ†åˆ¥é€²è¡Œæœ€é©åˆçš„è™•ç†æ–¹å¼ï¼Œæœ€å¾Œæ™ºèƒ½åˆä½µç‚ºå®Œæ•´è¦–é »ã€‚</p>
<p><strong>è™•ç†æµç¨‹æ¦‚è¦½</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">analyze_and_segment_video</span>(<span class="params">self, video_path</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;åˆ†æå½±ç‰‡ä¸¦æ™ºèƒ½åˆ†æ®µï¼Œåˆ†é›¢äººè‡‰å’Œç°¡å ±ç‰‡æ®µ&quot;&quot;&quot;</span></span><br><span class="line">    segments = []</span><br><span class="line">    current_segment = <span class="literal">None</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> frame_count, frame <span class="keyword">in</span> <span class="built_in">enumerate</span>(video_frames):</span><br><span class="line">        <span class="comment"># æª¢æ¸¬å…§å®¹é¡å‹</span></span><br><span class="line">        has_faces = <span class="variable language_">self</span>.detect_faces_in_frame(frame)</span><br><span class="line">        is_slide = <span class="variable language_">self</span>.is_slide_frame(frame)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ±ºå®šæ®µè½é¡å‹</span></span><br><span class="line">        <span class="keyword">if</span> has_faces:</span><br><span class="line">            segment_type = <span class="string">&quot;face&quot;</span>     <span class="comment"># äººè‡‰è¬›è©±ç‰‡æ®µ</span></span><br><span class="line">        <span class="keyword">elif</span> is_slide:</span><br><span class="line">            segment_type = <span class="string">&quot;slide&quot;</span>    <span class="comment"># ç°¡å ±å±•ç¤ºç‰‡æ®µ</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            segment_type = <span class="string">&quot;unknown&quot;</span>  <span class="comment"># æœªçŸ¥å…§å®¹</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ™ºèƒ½åˆ†æ®µé‚è¼¯</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.should_create_new_segment(current_segment, segment_type, frame):</span><br><span class="line">            segments.append(current_segment)</span><br><span class="line">            current_segment = <span class="variable language_">self</span>.create_new_segment(segment_type, frame_count)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> segments</span><br></pre></td></tr></table></figure>

<p><strong>åˆ†æ®µæ±ºç­–ç®—æ³•</strong></p>
<table>
<thead>
<tr>
<th>æª¢æ¸¬é …ç›®</th>
<th>æŠ€è¡“æ–¹æ³•</th>
<th>åˆ¤æ–·æ¢ä»¶</th>
<th>è™•ç†ç­–ç•¥</th>
</tr>
</thead>
<tbody><tr>
<td><strong>å ´æ™¯è®ŠåŒ–</strong></td>
<td>ImageHash</td>
<td><code>abs(curr_hash - prev_hash) &gt; threshold</code></td>
<td>è§¸ç™¼æ–°æ®µè½</td>
</tr>
<tr>
<td><strong>äººè‡‰æª¢æ¸¬</strong></td>
<td>Haar Cascade</td>
<td><code>len(faces) &gt; 0</code></td>
<td>å˜´å½¢åŒæ­¥è™•ç†</td>
</tr>
<tr>
<td><strong>ç°¡å ±æª¢æ¸¬</strong></td>
<td>é‚Šç·£å¯†åº¦åˆ†æ</td>
<td><code>0.01 &lt; edge_ratio &lt; 0.3</code></td>
<td>OCRç¿»è­¯è™•ç†</td>
</tr>
<tr>
<td><strong>æœ€å°æ™‚é•·</strong></td>
<td>å¹€æ•¸çµ±è¨ˆ</td>
<td><code>frames &gt;= min_duration * fps</code></td>
<td>æ®µè½æœ‰æ•ˆæ€§</td>
</tr>
</tbody></table>
<h4 id="ğŸ”-äººè‡‰èˆ‡ç°¡å ±è­˜åˆ¥æŠ€è¡“"><a href="#ğŸ”-äººè‡‰èˆ‡ç°¡å ±è­˜åˆ¥æŠ€è¡“" class="headerlink" title="ğŸ” äººè‡‰èˆ‡ç°¡å ±è­˜åˆ¥æŠ€è¡“"></a>ğŸ” äººè‡‰èˆ‡ç°¡å ±è­˜åˆ¥æŠ€è¡“</h4><p>ç³»çµ±ä½¿ç”¨å¤šå±¤æ¬¡æª¢æ¸¬æ©Ÿåˆ¶ä¾†å€åˆ†ã€Œäººè‡‰è¬›è©±ç•«é¢ã€å’Œã€Œç°¡å ±å±•ç¤ºç•«é¢ã€ï¼š</p>
<p><strong>äººè‡‰æª¢æ¸¬æŠ€è¡“</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">detect_faces_in_frame</span>(<span class="params">self, frame</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;æª¢æ¸¬å¹€ä¸­æ˜¯å¦æœ‰äººè‡‰&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># ä½¿ç”¨ OpenCV çš„ Haar Cascade åˆ†é¡å™¨</span></span><br><span class="line">    face_cascade = cv2.CascadeClassifier(cv2.data.haarcascades + <span class="string">&#x27;haarcascade_frontalface_default.xml&#x27;</span>)</span><br><span class="line">    gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</span><br><span class="line">    faces = face_cascade.detectMultiScale(gray, <span class="number">1.1</span>, <span class="number">4</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(faces) &gt; <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p><strong>ç°¡å ±é é¢åˆ¤æ–·é‚è¼¯</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">is_slide_frame</span>(<span class="params">self, frame</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;åˆ¤æ–·æ˜¯å¦ç‚ºç°¡å ±é é¢ï¼ˆæ²’æœ‰äººè‡‰ä¸”æœ‰æ–‡å­—å…§å®¹ï¼‰&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># ç¬¬ä¸€æ­¥ï¼šäººè‡‰æª¢æ¸¬</span></span><br><span class="line">    has_faces = <span class="variable language_">self</span>.detect_faces_in_frame(frame)</span><br><span class="line">    <span class="keyword">if</span> has_faces:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span>  <span class="comment"># æœ‰äººè‡‰ï¼Œä¸æ˜¯ç°¡å ±</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç¬¬äºŒæ­¥ï¼šæ–‡å­—å…§å®¹æª¢æ¸¬</span></span><br><span class="line">    gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</span><br><span class="line">    edges = cv2.Canny(gray, <span class="number">50</span>, <span class="number">150</span>)  <span class="comment"># Canny é‚Šç·£æª¢æ¸¬</span></span><br><span class="line">    edge_ratio = np.<span class="built_in">sum</span>(edges &gt; <span class="number">0</span>) / edges.size</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># é‚Šç·£æ¯”ä¾‹åœ¨åˆç†ç¯„åœå…§ï¼Œåˆ¤å®šç‚ºç°¡å ±</span></span><br><span class="line">    <span class="comment"># å¤ªå°‘é‚Šç·£å¯èƒ½æ˜¯ç©ºç™½ï¼Œå¤ªå¤šé‚Šç·£å¯èƒ½æ˜¯é›œäº‚èƒŒæ™¯</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0.01</span> &lt; edge_ratio &lt; <span class="number">0.3</span></span><br></pre></td></tr></table></figure>

<p><strong>å¤šå±¤æ¬¡æª¢æ¸¬æ©Ÿåˆ¶</strong></p>
<table>
<thead>
<tr>
<th>æª¢æ¸¬å±¤æ¬¡</th>
<th>æŠ€è¡“æ–¹æ³•</th>
<th>åˆ¤æ–·æ¨™æº–</th>
</tr>
</thead>
<tbody><tr>
<td><strong>1. å½±åƒè®ŠåŒ–æª¢æ¸¬</strong></td>
<td>ImageHash</td>
<td><code>abs(curr_hash - prev_hash) &gt; threshold</code></td>
</tr>
<tr>
<td><strong>2. äººè‡‰å­˜åœ¨æª¢æ¸¬</strong></td>
<td>Haar Cascade</td>
<td><code>len(faces) &gt; 0</code></td>
</tr>
<tr>
<td><strong>3. æ–‡å­—å…§å®¹æª¢æ¸¬</strong></td>
<td>Canny é‚Šç·£æª¢æ¸¬</td>
<td><code>0.01 &lt; edge_ratio &lt; 0.3</code></td>
</tr>
</tbody></table>
<p><strong>æ±ºç­–æ¨¹é‚è¼¯</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å½±åƒå¹€ â†’ å½±åƒæœ‰è®ŠåŒ–? â†’ æª¢æ¸¬åˆ°äººè‡‰? â†’ é‚Šç·£æ¯”ä¾‹é©ä¸­?</span><br><span class="line">   â†“           â†“           â†“           â†“</span><br><span class="line"> è·³é      äººè‡‰è¬›è©±ç•«é¢   ç°¡å ±é é¢   ç©ºç™½/é›œäº‚ç•«é¢</span><br><span class="line">                           â†“</span><br><span class="line">                     é€²è¡ŒOCRç¿»è­¯</span><br></pre></td></tr></table></figure>

<p><strong>æŠ€è¡“åŸç†èªªæ˜</strong></p>
<ul>
<li><strong>Haar Cascade</strong>: ä½¿ç”¨é è¨“ç·´çš„äººè‡‰æª¢æ¸¬æ¨¡å‹ï¼Œåƒæ•¸ <code>(1.1, 4)</code> åˆ†åˆ¥ç‚ºç¸®æ”¾å› å­å’Œæœ€å°‘æª¢æ¸¬çŸ©å½¢æ•¸</li>
<li><strong>Canny é‚Šç·£æª¢æ¸¬</strong>: åƒæ•¸ <code>(50, 150)</code> ç‚ºä½&#x2F;é«˜é–¾å€¼ï¼Œç°¡å ±æ–‡å­—æœƒç”¢ç”Ÿé©é‡é‚Šç·£</li>
<li><strong>é‚Šç·£æ¯”ä¾‹é–¾å€¼</strong>: <code>0.01-0.3</code> ç¯„åœé¿å…ç©ºç™½é é¢å’Œè¤‡é›œèƒŒæ™¯çš„èª¤åˆ¤</li>
</ul>
<p><strong>æŠ•å½±ç‰‡è™•ç†æµç¨‹</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">process_slide_image</span>(<span class="params">self, image_path, output_path, target_lang</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;è™•ç†å–®å¼µæŠ•å½±ç‰‡åœ–ç‰‡&quot;&quot;&quot;</span></span><br><span class="line">    img = cv2.imread(image_path)</span><br><span class="line">    reader = easyocr.Reader([<span class="string">&#x27;ch_tra&#x27;</span>], gpu=<span class="literal">False</span>)</span><br><span class="line">    results = reader.readtext(img)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æå–æ–‡å­—å€åŸŸ</span></span><br><span class="line">    boxes, orig_texts = [], []</span><br><span class="line">    <span class="keyword">for</span> box, text, conf <span class="keyword">in</span> results:</span><br><span class="line">        <span class="keyword">if</span> conf &gt; <span class="number">0.4</span>:</span><br><span class="line">            boxes.append(box)</span><br><span class="line">            orig_texts.append(text)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç§»é™¤åŸæ–‡ä¸¦é€²è¡Œä¿®å¾©</span></span><br><span class="line">    img_clean = <span class="variable language_">self</span>.remove_text_with_inpainting(img, boxes)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç¿»è­¯æ–‡å­—</span></span><br><span class="line">    translated = [<span class="variable language_">self</span>.translate_with_gemini(t, target_lang) <span class="keyword">for</span> t <span class="keyword">in</span> orig_texts]</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># é‡æ–°ç¹ªè£½ç¿»è­¯å¾Œçš„æ–‡å­—</span></span><br><span class="line">    pil_img = Image.fromarray(cv2.cvtColor(img_clean, cv2.COLOR_BGR2RGB))</span><br><span class="line">    final = <span class="variable language_">self</span>.draw_translated_text(pil_img, boxes, translated, font_path)</span><br><span class="line">    final.save(output_path)</span><br></pre></td></tr></table></figure>

<p><strong>åˆ†æ®µæå–èˆ‡è™•ç†</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">extract_segments</span>(<span class="params">self, video_path, segments, face_dir, ppt_dir</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;æå–ä¸¦å„²å­˜å½±ç‰‡æ®µè½ï¼Œæ¯å€‹æ®µè½åŒ…å«å®Œæ•´çš„éŸ³è¦–é »&quot;&quot;&quot;</span></span><br><span class="line">    cap = cv2.VideoCapture(video_path)</span><br><span class="line">    fps = cap.get(cv2.CAP_PROP_FPS)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> segment <span class="keyword">in</span> segments:</span><br><span class="line">        start_frame = segment[<span class="string">&#x27;start_frame&#x27;</span>]</span><br><span class="line">        end_frame = segment[<span class="string">&#x27;end_frame&#x27;</span>]</span><br><span class="line">        start_time = start_frame / fps</span><br><span class="line">        duration = (end_frame - start_frame + <span class="number">1</span>) / fps</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> segment[<span class="string">&#x27;type&#x27;</span>] == <span class="string">&#x27;face&#x27;</span>:</span><br><span class="line">            output_path = os.path.join(face_dir, <span class="string">f&quot;<span class="subst">&#123;face_count:02d&#125;</span>.mp4&quot;</span>)</span><br><span class="line">        <span class="keyword">elif</span> segment[<span class="string">&#x27;type&#x27;</span>] == <span class="string">&#x27;slide&#x27;</span>:</span><br><span class="line">            output_path = os.path.join(ppt_dir, <span class="string">f&quot;<span class="subst">&#123;slide_count:02d&#125;</span>.mp4&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># ä½¿ç”¨ FFmpeg æå–å®Œæ•´éŸ³è¦–é »æ®µè½</span></span><br><span class="line">        command = <span class="string">f&#x27;ffmpeg -y -i &quot;<span class="subst">&#123;video_path&#125;</span>&quot; -ss <span class="subst">&#123;start_time&#125;</span> -t <span class="subst">&#123;duration&#125;</span> -c:v libx264 -c:a aac &quot;<span class="subst">&#123;output_path&#125;</span>&quot;&#x27;</span></span><br><span class="line">        subprocess.run(command, shell=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<h4 id="ğŸ­-äººè‡‰æ®µè½è™•ç†æµç¨‹"><a href="#ğŸ­-äººè‡‰æ®µè½è™•ç†æµç¨‹" class="headerlink" title="ğŸ­ äººè‡‰æ®µè½è™•ç†æµç¨‹"></a>ğŸ­ äººè‡‰æ®µè½è™•ç†æµç¨‹</h4><p><strong>æ­¥é©Ÿ1ï¼šéŸ³é »æå–èˆ‡ç¿»è­¯</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">process_face_segments</span>(<span class="params">self, face_dir, language</span>):</span><br><span class="line">    <span class="keyword">for</span> segment_file <span class="keyword">in</span> face_files:</span><br><span class="line">        <span class="comment"># 1. èªéŸ³è½‰æ–‡å­—ä¸¦ç¿»è­¯</span></span><br><span class="line">        translated_text = voice(segment_file, api_key, language)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 2. èªéŸ³å…‹éš†</span></span><br><span class="line">        audio_path = xttsv(translated_text, segment_file, temp_audio, language)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 3. å˜´å½¢åŒæ­¥</span></span><br><span class="line">        run_inference(segment_file, audio_path, processed_path)</span><br></pre></td></tr></table></figure>

<h4 id="ğŸ“Š-ç°¡å ±æ®µè½è™•ç†æµç¨‹"><a href="#ğŸ“Š-ç°¡å ±æ®µè½è™•ç†æµç¨‹" class="headerlink" title="ğŸ“Š ç°¡å ±æ®µè½è™•ç†æµç¨‹"></a>ğŸ“Š ç°¡å ±æ®µè½è™•ç†æµç¨‹</h4><p><strong>æ­¥é©Ÿ1ï¼šéŸ³é »è™•ç†</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">process_slide_segments</span>(<span class="params">self, ppt_dir, language, slide_language</span>):</span><br><span class="line">    <span class="keyword">for</span> segment_file <span class="keyword">in</span> ppt_files:</span><br><span class="line">        <span class="comment"># 1. èªéŸ³è½‰æ–‡å­—ä¸¦ç¿»è­¯</span></span><br><span class="line">        translated_text = voice(segment_file, api_key, language)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 2. èªéŸ³å…‹éš†</span></span><br><span class="line">        <span class="keyword">if</span> translated_text:</span><br><span class="line">            audio_path = xttsv(translated_text, segment_file, temp_audio, language)</span><br></pre></td></tr></table></figure>

<p><strong>æ­¥é©Ÿ2ï¼šOCRç¿»è­¯è™•ç†</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">process_slide_video</span>(<span class="params">self, input_video, output_video, target_lang, audio_path</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;è™•ç†ç°¡å ±å½±ç‰‡ï¼Œé€²è¡ŒOCRç¿»è­¯&quot;&quot;&quot;</span></span><br><span class="line">    cap = cv2.VideoCapture(input_video)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># é€å¹€è™•ç†OCRç¿»è­¯</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        ret, frame = cap.read()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> ret: <span class="keyword">break</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æª¢æ¸¬å ´æ™¯è®ŠåŒ–</span></span><br><span class="line">        <span class="keyword">if</span> frame_count % <span class="number">10</span> == <span class="number">0</span>:</span><br><span class="line">            curr_hash = imagehash.phash(frame)</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">abs</span>(curr_hash - prev_hash) &gt; threshold:</span><br><span class="line">                <span class="comment"># é€²è¡ŒOCRç¿»è­¯</span></span><br><span class="line">                translated_frame = <span class="variable language_">self</span>.translate_frame_text(frame, target_lang)</span><br><span class="line">                current_translated_frame = translated_frame</span><br><span class="line">        </span><br><span class="line">                 <span class="comment"># è¼¸å‡ºç¿»è­¯å¾Œçš„å¹€</span></span><br><span class="line">         output_frame = current_translated_frame <span class="keyword">if</span> current_translated_frame <span class="keyword">else</span> frame</span><br><span class="line">         out.write(output_frame)</span><br></pre></td></tr></table></figure>

<h4 id="ğŸ¬-æ™ºèƒ½åˆä½µç³»çµ±"><a href="#ğŸ¬-æ™ºèƒ½åˆä½µç³»çµ±" class="headerlink" title="ğŸ¬ æ™ºèƒ½åˆä½µç³»çµ±"></a>ğŸ¬ æ™ºèƒ½åˆä½µç³»çµ±</h4><p>è™•ç†å®Œæ‰€æœ‰æ®µè½å¾Œï¼Œç³»çµ±éœ€è¦å°‡ä¸åŒè§£æåº¦çš„è¦–é »æ®µè½æ™ºèƒ½åˆä½µã€‚é€™æ˜¯æŠ€è¡“æŒ‘æˆ°æœ€å¤§çš„éƒ¨åˆ†ã€‚</p>
<p><strong>è§£æåº¦çµ±ä¸€æŠ€è¡“</strong></p>
<p>ä¸åŒè™•ç†æ–¹å¼æœƒå°è‡´ä¸åŒçš„è¼¸å‡ºè§£æåº¦ï¼š</p>
<ul>
<li><strong>äººè‡‰æ®µè½</strong>: Wav2Lip è¼¸å‡ºé€šå¸¸ç‚º 640x360</li>
<li><strong>ç°¡å ±æ®µè½</strong>: åŸå§‹è§£æåº¦å¯èƒ½ç‚º 1280x720 æˆ–æ›´é«˜</li>
</ul>
<p><strong>å¤šé‡åˆä½µç­–ç•¥</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">auto_edit_segments</span>(<span class="params">self, face_segments, slide_segments, segments_info, output_path</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;æ ¹æ“šåŸå§‹é †åºè‡ªå‹•å‰ªæ¥æ‰€æœ‰æ®µè½&quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ–¹æ³•1ï¼šFilter Complex çµ±ä¸€è§£æåº¦åˆä½µ</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(ordered_segments) == <span class="number">2</span>:</span><br><span class="line">        command = <span class="string">f&#x27;&#x27;&#x27;ffmpeg -y -i &quot;<span class="subst">&#123;segments[<span class="number">0</span>]&#125;</span>&quot; -i &quot;<span class="subst">&#123;segments[<span class="number">1</span>]&#125;</span>&quot; </span></span><br><span class="line"><span class="string">        -filter_complex &quot;[0:v]scale=1280:720,setsar=1:1[v0];</span></span><br><span class="line"><span class="string">                        [1:v]scale=1280:720,setsar=1:1[v1];</span></span><br><span class="line"><span class="string">                        [0:a]aformat=sample_fmts=fltp:sample_rates=22050:channel_layouts=mono[a0];</span></span><br><span class="line"><span class="string">                        [1:a]aformat=sample_fmts=fltp:sample_rates=22050:channel_layouts=mono[a1];</span></span><br><span class="line"><span class="string">                        [v0][a0][v1][a1]concat=n=2:v=1:a=1[outv][outa]&quot; </span></span><br><span class="line"><span class="string">        -map &quot;[outv]&quot; -map &quot;[outa]&quot; -c:v libx264 -c:a aac &quot;<span class="subst">&#123;output_path&#125;</span>&quot;&#x27;&#x27;&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ–¹æ³•2ï¼šé è™•ç†çµ±ä¸€è§£æåº¦</span></span><br><span class="line">    normalized_segments = []</span><br><span class="line">    <span class="keyword">for</span> segment <span class="keyword">in</span> ordered_segments:</span><br><span class="line">        normalized_path = segment.replace(<span class="string">&#x27;.mp4&#x27;</span>, <span class="string">&#x27;_normalized.mp4&#x27;</span>)</span><br><span class="line">        command = <span class="string">f&#x27;&#x27;&#x27;ffmpeg -y -i &quot;<span class="subst">&#123;segment&#125;</span>&quot; </span></span><br><span class="line"><span class="string">        -vf scale=1280:720:force_original_aspect_ratio=decrease,</span></span><br><span class="line"><span class="string">            pad=1280:720:(ow-iw)/2:(oh-ih)/2,setsar=1:1 </span></span><br><span class="line"><span class="string">        -af aformat=sample_fmts=fltp:sample_rates=22050:channel_layouts=mono </span></span><br><span class="line"><span class="string">        -c:v libx264 -c:a aac &quot;<span class="subst">&#123;normalized_path&#125;</span>&quot;&#x27;&#x27;&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ–¹æ³•3ï¼šé€å€‹å…©å…©åˆä½µ</span></span><br><span class="line">    <span class="comment"># æ–¹æ³•4ï¼šç›´æ¥è¤‡è£½å‚™ç”¨æ–¹æ¡ˆ</span></span><br></pre></td></tr></table></figure>

<p><strong>åˆä½µæŠ€è¡“åŸç†</strong></p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æŠ€è¡“æ ¸å¿ƒ</th>
<th>å„ªé»</th>
<th>ç¼ºé»</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Filter Complex</strong></td>
<td>FFmpegæ¿¾é¡éˆä¸€æ¬¡æ€§è™•ç†</td>
<td>æ•ˆç‡é«˜ï¼Œè³ªé‡å¥½</td>
<td>è¤‡é›œè¦–é »å¯èƒ½å¤±æ•—</td>
</tr>
<tr>
<td><strong>é è™•ç†çµ±ä¸€</strong></td>
<td>å…ˆçµ±ä¸€å†concat</td>
<td>å…¼å®¹æ€§å¥½</td>
<td>éœ€è¦é¡å¤–å­˜å„²ç©ºé–“</td>
</tr>
<tr>
<td><strong>é€å€‹åˆä½µ</strong></td>
<td>å…©å…©éæ­¸åˆä½µ</td>
<td>æœ€ç©©å®šå¯é </td>
<td>è™•ç†æ™‚é–“è¼ƒé•·</td>
</tr>
<tr>
<td><strong>ç›´æ¥è¤‡è£½</strong></td>
<td>æœ€å¾Œå‚™ç”¨æ–¹æ¡ˆ</td>
<td>çµ•å°ä¸æœƒå¤±æ•—</td>
<td>åƒ…ä¿ç•™é¦–å€‹æ®µè½</td>
</tr>
</tbody></table>
<p><strong>è§£æåº¦çµ±ä¸€ç®—æ³•</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿æŒå¯¬é«˜æ¯”çš„æ™ºèƒ½ç¸®æ”¾</span></span><br><span class="line">scale=<span class="number">1280</span>:<span class="number">720</span>:force_original_aspect_ratio=decrease</span><br><span class="line"></span><br><span class="line"><span class="comment"># å±…ä¸­å¡«å……é»‘é‚Š</span></span><br><span class="line">pad=<span class="number">1280</span>:<span class="number">720</span>:(ow-iw)/<span class="number">2</span>:(oh-ih)/<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># çµ±ä¸€åƒç´ å¯¬é«˜æ¯”</span></span><br><span class="line">setsar=<span class="number">1</span>:<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># çµ±ä¸€éŸ³é »æ ¼å¼</span></span><br><span class="line">aformat=sample_fmts=fltp:sample_rates=<span class="number">22050</span>:channel_layouts=mono</span><br></pre></td></tr></table></figure>

<h2 id="ğŸ“¦-å®‰è£æŒ‡å—"><a href="#ğŸ“¦-å®‰è£æŒ‡å—" class="headerlink" title="ğŸ“¦ å®‰è£æŒ‡å—"></a>ğŸ“¦ å®‰è£æŒ‡å—</h2><h3 id="ç’°å¢ƒè¦æ±‚"><a href="#ç’°å¢ƒè¦æ±‚" class="headerlink" title="ç’°å¢ƒè¦æ±‚"></a>ç’°å¢ƒè¦æ±‚</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Python 3.10</span><br><span class="line">CUDA (å¯é¸ï¼Œç”¨æ–¼ GPU åŠ é€Ÿ)</span><br><span class="line">FFmpeg</span><br><span class="line">è¨»ï¼šæœ¬å°ˆæ¡ˆåœ¨ Macbook M4 é–‹ç™¼</span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£æ­¥é©Ÿ"><a href="#å®‰è£æ­¥é©Ÿ" class="headerlink" title="å®‰è£æ­¥é©Ÿ"></a>å®‰è£æ­¥é©Ÿ</h3><ol>
<li><strong>å…‹éš†å°ˆæ¡ˆ</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/if-else-master/Deep-Video-Translation.git</span><br><span class="line"><span class="built_in">cd</span> Deep-Video-Translation</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>å®‰è£ä¾è³´</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>ä¸‹è¼‰æ¨¡å‹æ–‡ä»¶</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Wav2Lip æ¨¡å‹</span></span><br><span class="line">wget https://iiitaphyd-my.sharepoint.com/personal/radrabha_m_research_iiit_ac_in/_layouts/15/download.aspx?share=EdjI7bZlgApMqsVoEUUXpLsBxqXbn5z8VTmoxp2pgHDTDA -O app/Wav2Lip/checkpoints/wav2lip.pth</span><br><span class="line"></span><br><span class="line"><span class="comment"># XTTS-v2 æ¨¡å‹æœƒè‡ªå‹•ä¸‹è¼‰</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>æº–å‚™å­—é«”æ–‡ä»¶</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è¼‰ Noto å­—é«”åˆ° app ç›®éŒ„</span></span><br><span class="line">wget https://github.com/googlefonts/noto-cjk/releases/download/Sans2.004/03_NotoSansCJKjp.zip</span><br><span class="line">unzip 03_NotoSansCJKjp.zip -d app/</span><br></pre></td></tr></table></figure>

<h2 id="ğŸ®-ä½¿ç”¨æ–¹æ³•"><a href="#ğŸ®-ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ğŸ® ä½¿ç”¨æ–¹æ³•"></a>ğŸ® ä½¿ç”¨æ–¹æ³•</h2><h3 id="å‘½ä»¤è¡Œæ¨¡å¼"><a href="#å‘½ä»¤è¡Œæ¨¡å¼" class="headerlink" title="å‘½ä»¤è¡Œæ¨¡å¼"></a>å‘½ä»¤è¡Œæ¨¡å¼</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python app/main.py</span><br></pre></td></tr></table></figure>

<h3 id="GUI-æ“ä½œæµç¨‹"><a href="#GUI-æ“ä½œæµç¨‹" class="headerlink" title="GUI æ“ä½œæµç¨‹"></a>GUI æ“ä½œæµç¨‹</h3><ol>
<li><strong>è¼¸å…¥ Gemini API Key</strong></li>
<li><strong>é¸æ“‡è¼¸å…¥å½±ç‰‡</strong> (æ”¯æ´ MP4 æ ¼å¼)</li>
<li><strong>è¨­å®šèªéŸ³ç¿»è­¯èªè¨€</strong> (ä¸­æ–‡&#x2F;è‹±æ–‡&#x2F;æ—¥æ–‡)</li>
<li><strong>æ™ºèƒ½åˆ†æ®µè¨­å®š</strong><ul>
<li><strong>å•Ÿç”¨æŠ•å½±ç‰‡ç¿»è­¯</strong>: é–‹å•ŸOCRæ–‡å­—ç¿»è­¯åŠŸèƒ½</li>
<li><strong>æŠ•å½±ç‰‡ç¿»è­¯èªè¨€</strong>: è¨­å®šOCRç¿»è­¯ç›®æ¨™èªè¨€</li>
<li><strong>æœ€å°æ®µè½é•·åº¦</strong>: è¨­å®šåˆ†æ®µçš„æœ€å°æ™‚é–“é•·åº¦(ç§’)</li>
<li><strong>å ´æ™¯åˆ‡æ›é–€æª»</strong>: èª¿æ•´å ´æ™¯è®ŠåŒ–æª¢æ¸¬éˆæ•åº¦</li>
</ul>
</li>
<li><strong>è¨­å®šè¼¸å‡ºè·¯å¾‘</strong></li>
<li><strong>é–‹å§‹æ™ºèƒ½åˆ†æ®µè™•ç†</strong></li>
</ol>
<h3 id="æ™ºèƒ½åˆ†æ®µè™•ç†éšæ®µ"><a href="#æ™ºèƒ½åˆ†æ®µè™•ç†éšæ®µ" class="headerlink" title="æ™ºèƒ½åˆ†æ®µè™•ç†éšæ®µ"></a>æ™ºèƒ½åˆ†æ®µè™•ç†éšæ®µ</h3><p>ç¨‹åºæœƒä¾åºåŸ·è¡Œä»¥ä¸‹éšæ®µï¼š</p>
<p><strong>éšæ®µ1ï¼šæ™ºèƒ½åˆ†æèˆ‡åˆ†æ®µ (0-20%)</strong></p>
<ul>
<li>é€å¹€åˆ†æå½±ç‰‡å…§å®¹</li>
<li>æª¢æ¸¬äººè‡‰å’Œç°¡å ±å ´æ™¯</li>
<li>æ ¹æ“šå ´æ™¯è®ŠåŒ–å’Œæœ€å°æ™‚é•·é€²è¡Œæ™ºèƒ½åˆ†æ®µ</li>
<li>æå–å®Œæ•´éŸ³è¦–é »æ®µè½åˆ°ä¸åŒç›®éŒ„</li>
</ul>
<p><strong>éšæ®µ2ï¼šäººè‡‰æ®µè½è™•ç† (20-70%)</strong></p>
<ul>
<li>å°æ¯å€‹äººè‡‰æ®µè½é€²è¡ŒèªéŸ³è­˜åˆ¥å’Œç¿»è­¯</li>
<li>ä½¿ç”¨XTTS-v2é€²è¡ŒèªéŸ³å…‹éš†</li>
<li>é€šéWav2Lipå¯¦ç¾å˜´å½¢åŒæ­¥</li>
</ul>
<p><strong>éšæ®µ3ï¼šç°¡å ±æ®µè½è™•ç† (70-90%)</strong></p>
<ul>
<li>å°æ¯å€‹ç°¡å ±æ®µè½é€²è¡ŒèªéŸ³è­˜åˆ¥å’Œç¿»è­¯</li>
<li>ä½¿ç”¨XTTS-v2é€²è¡ŒèªéŸ³å…‹éš†</li>
<li>å¦‚å•Ÿç”¨OCRç¿»è­¯ï¼Œé€å¹€é€²è¡Œæ–‡å­—è­˜åˆ¥å’Œç¿»è­¯é‡ç¹ª</li>
</ul>
<p><strong>éšæ®µ4ï¼šæ™ºèƒ½åˆä½µ (90-100%)</strong></p>
<ul>
<li>è§£æåº¦çµ±ä¸€è™•ç†</li>
<li>å¤šé‡åˆä½µç­–ç•¥ç¢ºä¿æˆåŠŸ</li>
<li>æŒ‰åŸå§‹é †åºçµ„åˆæ‰€æœ‰æ®µè½</li>
</ul>
<h3 id="æ™ºèƒ½åˆ†æ®µè™•ç†æµç¨‹"><a href="#æ™ºèƒ½åˆ†æ®µè™•ç†æµç¨‹" class="headerlink" title="æ™ºèƒ½åˆ†æ®µè™•ç†æµç¨‹"></a>æ™ºèƒ½åˆ†æ®µè™•ç†æµç¨‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    A[è¼¸å…¥å½±ç‰‡] --&gt; B[æ™ºèƒ½å…§å®¹åˆ†æ]</span><br><span class="line">    B --&gt; C[å ´æ™¯è®ŠåŒ–æª¢æ¸¬]</span><br><span class="line">    C --&gt; D[äººè‡‰/ç°¡å ±è­˜åˆ¥]</span><br><span class="line">    D --&gt; E[æ™ºèƒ½åˆ†æ®µ]</span><br><span class="line">    E --&gt; F[æå–éŸ³è¦–é »æ®µè½]</span><br><span class="line">    </span><br><span class="line">    F --&gt; G[äººè‡‰æ®µè½è™•ç†]</span><br><span class="line">    F --&gt; H[ç°¡å ±æ®µè½è™•ç†]</span><br><span class="line">    </span><br><span class="line">    G --&gt; G1[èªéŸ³è­˜åˆ¥èˆ‡ç¿»è­¯]</span><br><span class="line">    G1 --&gt; G2[èªéŸ³å…‹éš† XTTS-v2]</span><br><span class="line">    G2 --&gt; G3[å˜´å½¢åŒæ­¥ Wav2Lip]</span><br><span class="line">    </span><br><span class="line">    H --&gt; H1[èªéŸ³è­˜åˆ¥èˆ‡ç¿»è­¯]</span><br><span class="line">    H1 --&gt; H2[èªéŸ³å…‹éš† XTTS-v2]</span><br><span class="line">    H2 --&gt; H3&#123;å•Ÿç”¨OCRç¿»è­¯?&#125;</span><br><span class="line">    H3 --&gt;|æ˜¯| H4[OCRæ–‡å­—è­˜åˆ¥]</span><br><span class="line">    H4 --&gt; H5[æ–‡å­—ç¿»è­¯èˆ‡é‡ç¹ª]</span><br><span class="line">    H5 --&gt; H6[é€å¹€ç¿»è­¯åˆæˆ]</span><br><span class="line">    H3 --&gt;|å¦| H6</span><br><span class="line">    </span><br><span class="line">    G3 --&gt; I[è§£æåº¦çµ±ä¸€è™•ç†]</span><br><span class="line">    H6 --&gt; I</span><br><span class="line">    I --&gt; J[å¤šé‡åˆä½µç­–ç•¥]</span><br><span class="line">    J --&gt; K[è¼¸å‡ºæœ€çµ‚è¦–é »]</span><br></pre></td></tr></table></figure>

<h2 id="ğŸ“-å°ˆæ¡ˆçµæ§‹"><a href="#ğŸ“-å°ˆæ¡ˆçµæ§‹" class="headerlink" title="ğŸ“ å°ˆæ¡ˆçµæ§‹"></a>ğŸ“ å°ˆæ¡ˆçµæ§‹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Deep-Video-Translation/</span><br><span class="line">â”œâ”€â”€ app/</span><br><span class="line">â”‚   â”œâ”€â”€ main.py                    # ä¸»ç¨‹å¼ GUI ç•Œé¢</span><br><span class="line">â”‚   â”œâ”€â”€ txtvoice.py               # Gemini èªéŸ³è­˜åˆ¥æ¨¡çµ„</span><br><span class="line">â”‚   â”œâ”€â”€ xttsv.py                  # XTTS èªéŸ³å…‹éš†æ¨¡çµ„</span><br><span class="line">â”‚   â”œâ”€â”€ ImageHash_ppt.py          # æŠ•å½±ç‰‡ç¿»è­¯å·¥å…·</span><br><span class="line">â”‚   â”œâ”€â”€ Wav2Lip/                  # Wav2Lip å˜´å½¢åŒæ­¥</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ inference.py          # æ¨ç†ä¸»ç¨‹å¼</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ models/               # æ¨¡å‹å®šç¾©</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ checkpoints/          # é è¨“ç·´æ¨¡å‹</span><br><span class="line">â”‚   â”‚   â””â”€â”€ face_detection/       # äººè‡‰æª¢æ¸¬</span><br><span class="line">â”‚   â”œâ”€â”€ XTTS-v2/                  # XTTS æ¨¡å‹æ–‡ä»¶</span><br><span class="line">â”‚   â”œâ”€â”€ NotoSansCJKjp-Regular.otf # æ—¥æ–‡å­—é«”</span><br><span class="line">â”‚   â””â”€â”€ NotoSansTC-Regular.ttf    # ä¸­æ–‡å­—é«”</span><br><span class="line">â”œâ”€â”€ temp/                         # è‡¨æ™‚æ–‡ä»¶ç›®éŒ„</span><br><span class="line">â”‚   â”œâ”€â”€ faceai/                   # äººè‡‰æ®µè½è™•ç†ç›®éŒ„</span><br><span class="line">â”‚   â”œâ”€â”€ pptai/                    # ç°¡å ±æ®µè½è™•ç†ç›®éŒ„</span><br><span class="line">â”‚   â”œâ”€â”€ audio_segments/           # éŸ³é »ç‰‡æ®µç›®éŒ„</span><br><span class="line">â”‚   â”œâ”€â”€ slides_output/            # æå–çš„æŠ•å½±ç‰‡ç›®éŒ„</span><br><span class="line">â”‚   â”œâ”€â”€ translated_slides/        # ç¿»è­¯å¾Œçš„æŠ•å½±ç‰‡ç›®éŒ„</span><br><span class="line">â”‚   â””â”€â”€ segments/                 # å…¶ä»–åˆ†æ®µæ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ requirements.txt              # Python ä¾è³´</span><br><span class="line">â””â”€â”€ README.md                     # èªªæ˜æ–‡ä»¶</span><br></pre></td></tr></table></figure>

<h2 id="ğŸ”¬-æŠ€è¡“å‰µæ–°èˆ‡åŸç†"><a href="#ğŸ”¬-æŠ€è¡“å‰µæ–°èˆ‡åŸç†" class="headerlink" title="ğŸ”¬ æŠ€è¡“å‰µæ–°èˆ‡åŸç†"></a>ğŸ”¬ æŠ€è¡“å‰µæ–°èˆ‡åŸç†</h2><h3 id="æ ¸å¿ƒæŠ€è¡“å‰µæ–°"><a href="#æ ¸å¿ƒæŠ€è¡“å‰µæ–°" class="headerlink" title="æ ¸å¿ƒæŠ€è¡“å‰µæ–°"></a>æ ¸å¿ƒæŠ€è¡“å‰µæ–°</h3><h4 id="1-æ™ºèƒ½åˆ†æ®µç®—æ³•"><a href="#1-æ™ºèƒ½åˆ†æ®µç®—æ³•" class="headerlink" title="1. æ™ºèƒ½åˆ†æ®µç®—æ³•"></a>1. <strong>æ™ºèƒ½åˆ†æ®µç®—æ³•</strong></h4><p>çµåˆå¤šç¨®è¨ˆç®—æ©Ÿè¦–è¦ºæŠ€è¡“å¯¦ç¾å½±ç‰‡å…§å®¹çš„æ™ºèƒ½è­˜åˆ¥ï¼š</p>
<ul>
<li><strong>ImageHash</strong>: ä½¿ç”¨æ„ŸçŸ¥å“ˆå¸Œæª¢æ¸¬å ´æ™¯è®ŠåŒ–</li>
<li><strong>Haar Cascade</strong>: äººè‡‰æª¢æ¸¬ç¢ºå®šè¬›è©±ç‰‡æ®µ</li>
<li><strong>Cannyé‚Šç·£æª¢æ¸¬</strong>: åˆ†æé‚Šç·£å¯†åº¦åˆ¤æ–·ç°¡å ±å…§å®¹</li>
<li><strong>æ™‚é–“é€£çºŒæ€§</strong>: æœ€å°æ®µè½é•·åº¦é¿å…éåº¦åˆ†æ®µ</li>
</ul>
<h4 id="2-è§£æåº¦çµ±ä¸€æŠ€è¡“"><a href="#2-è§£æåº¦çµ±ä¸€æŠ€è¡“" class="headerlink" title="2. è§£æåº¦çµ±ä¸€æŠ€è¡“"></a>2. <strong>è§£æåº¦çµ±ä¸€æŠ€è¡“</strong></h4><p>è§£æ±ºä¸åŒAIæ¨¡å‹è¼¸å‡ºè§£æåº¦ä¸ä¸€è‡´çš„å•é¡Œï¼š</p>
<ul>
<li><strong>æ™ºèƒ½ç¸®æ”¾</strong>: <code>force_original_aspect_ratio=decrease</code> ä¿æŒåŸå§‹æ¯”ä¾‹</li>
<li><strong>å±…ä¸­å¡«å……</strong>: è‡ªå‹•è¨ˆç®—å¡«å……ä½ç½®ä¿æŒè¦–è¦ºæ•ˆæœ</li>
<li><strong>éŸ³é »æ ¼å¼çµ±ä¸€</strong>: çµ±ä¸€æ¡æ¨£ç‡å’Œè²é“ç¢ºä¿å…¼å®¹æ€§</li>
</ul>
<h4 id="3-å¤šé‡å®¹éŒ¯æ©Ÿåˆ¶"><a href="#3-å¤šé‡å®¹éŒ¯æ©Ÿåˆ¶" class="headerlink" title="3. å¤šé‡å®¹éŒ¯æ©Ÿåˆ¶"></a>3. <strong>å¤šé‡å®¹éŒ¯æ©Ÿåˆ¶</strong></h4><p>å››å±¤åˆä½µç­–ç•¥ç¢ºä¿è™•ç†æˆåŠŸç‡ï¼š</p>
<ol>
<li><strong>Filter Complex</strong>: æœ€é«˜æ•ˆç‡çš„ä¸€æ¬¡æ€§è™•ç†</li>
<li><strong>é è™•ç†çµ±ä¸€</strong>: æœ€ä½³å…¼å®¹æ€§çš„åˆ†æ­¥è™•ç†</li>
<li><strong>é€å€‹åˆä½µ</strong>: æœ€é«˜ç©©å®šæ€§çš„éæ­¸è™•ç†</li>
<li><strong>å‚™ç”¨æ–¹æ¡ˆ</strong>: çµ•å°ä¸æœƒå¤±æ•—çš„ä¿éšªæ©Ÿåˆ¶</li>
</ol>
<h4 id="4-é€å¹€OCRç¿»è­¯"><a href="#4-é€å¹€OCRç¿»è­¯" class="headerlink" title="4. é€å¹€OCRç¿»è­¯"></a>4. <strong>é€å¹€OCRç¿»è­¯</strong></h4><p>å¯¦ç¾é€£çºŒè¦–é »çš„æ–‡å­—ç¿»è­¯ï¼š</p>
<ul>
<li><strong>å ´æ™¯è®ŠåŒ–æª¢æ¸¬</strong>: åªåœ¨å¿…è¦æ™‚é€²è¡ŒOCRè™•ç†</li>
<li><strong>ç¿»è­¯ç·©å­˜</strong>: é¿å…é‡è¤‡è™•ç†ç›¸åŒå…§å®¹</li>
<li><strong>æ–‡å­—ä¿®å¾©</strong>: ä½¿ç”¨inpaintingæŠ€è¡“ç§»é™¤åŸæ–‡</li>
<li><strong>å­—é«”é©é…</strong>: å¤šèªè¨€å­—é«”è‡ªå‹•é¸æ“‡</li>
</ul>
<h3 id="æŠ€è¡“é›£é»çªç ´"><a href="#æŠ€è¡“é›£é»çªç ´" class="headerlink" title="æŠ€è¡“é›£é»çªç ´"></a>æŠ€è¡“é›£é»çªç ´</h3><h4 id="å•é¡Œ1ï¼šä¸åŒæ¨¡å‹è¼¸å‡ºæ ¼å¼ä¸çµ±ä¸€"><a href="#å•é¡Œ1ï¼šä¸åŒæ¨¡å‹è¼¸å‡ºæ ¼å¼ä¸çµ±ä¸€" class="headerlink" title="å•é¡Œ1ï¼šä¸åŒæ¨¡å‹è¼¸å‡ºæ ¼å¼ä¸çµ±ä¸€"></a>å•é¡Œ1ï¼šä¸åŒæ¨¡å‹è¼¸å‡ºæ ¼å¼ä¸çµ±ä¸€</h4><p><strong>è§£æ±ºæ–¹æ¡ˆ</strong>: å¯¦ç¾äº†è‡ªé©æ‡‰è§£æåº¦çµ±ä¸€ç³»çµ±</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ™ºèƒ½ç¸®æ”¾ä¿æŒæ¯”ä¾‹</span></span><br><span class="line">scale=<span class="number">1280</span>:<span class="number">720</span>:force_original_aspect_ratio=decrease</span><br><span class="line"></span><br><span class="line"><span class="comment"># å±…ä¸­å¡«å……åˆ°çµ±ä¸€å°ºå¯¸</span></span><br><span class="line">pad=<span class="number">1280</span>:<span class="number">720</span>:(ow-iw)/<span class="number">2</span>:(oh-ih)/<span class="number">2</span></span><br></pre></td></tr></table></figure>

<h4 id="å•é¡Œ2ï¼šè¦–é »åˆä½µå…¼å®¹æ€§å·®"><a href="#å•é¡Œ2ï¼šè¦–é »åˆä½µå…¼å®¹æ€§å·®" class="headerlink" title="å•é¡Œ2ï¼šè¦–é »åˆä½µå…¼å®¹æ€§å·®"></a>å•é¡Œ2ï¼šè¦–é »åˆä½µå…¼å®¹æ€§å·®</h4><p><strong>è§£æ±ºæ–¹æ¡ˆ</strong>: å››é‡åˆä½µç­–ç•¥ç¢ºä¿æˆåŠŸ</p>
<ul>
<li>å…ˆå˜—è©¦é«˜æ•ˆæ–¹æ³•ï¼Œå¤±æ•—å¾Œè‡ªå‹•é™ç´š</li>
<li>æ¯ç¨®æ–¹æ³•é‡å°ä¸åŒå ´æ™¯å„ªåŒ–</li>
<li>æœ€å¾Œçš„ç›´æ¥è¤‡è£½ç¢ºä¿çµ•ä¸å¤±æ•—</li>
</ul>
<h4 id="å•é¡Œ3ï¼šOCRç¿»è­¯æ•ˆæœä¸é€£çºŒ"><a href="#å•é¡Œ3ï¼šOCRç¿»è­¯æ•ˆæœä¸é€£çºŒ" class="headerlink" title="å•é¡Œ3ï¼šOCRç¿»è­¯æ•ˆæœä¸é€£çºŒ"></a>å•é¡Œ3ï¼šOCRç¿»è­¯æ•ˆæœä¸é€£çºŒ</h4><p><strong>è§£æ±ºæ–¹æ¡ˆ</strong>: åŸºæ–¼å ´æ™¯æª¢æ¸¬çš„æ™ºèƒ½ç¿»è­¯</p>
<ul>
<li>å ´æ™¯ä¸è®Šæ™‚é‡è¤‡ä½¿ç”¨ç¿»è­¯çµæœ</li>
<li>å ´æ™¯è®ŠåŒ–æ™‚é‡æ–°é€²è¡ŒOCRè™•ç†</li>
<li>é€å¹€è¼¸å‡ºç¢ºä¿è¦–é »é€£çºŒæ€§</li>
</ul>
<h3 id="æ€§èƒ½å„ªåŒ–ç­–ç•¥"><a href="#æ€§èƒ½å„ªåŒ–ç­–ç•¥" class="headerlink" title="æ€§èƒ½å„ªåŒ–ç­–ç•¥"></a>æ€§èƒ½å„ªåŒ–ç­–ç•¥</h3><ul>
<li><strong>ä¸¦è¡Œè™•ç†</strong>: äººè‡‰å’Œç°¡å ±æ®µè½å¯ä¸¦è¡Œè™•ç†</li>
<li><strong>æ™ºèƒ½æ¡æ¨£</strong>: ä¸æ˜¯æ¯å¹€éƒ½é€²è¡Œæª¢æ¸¬ï¼Œæé«˜æ•ˆç‡</li>
<li><strong>å…§å­˜ç®¡ç†</strong>: åŠæ™‚æ¸…ç†è‡¨æ™‚æ–‡ä»¶é¿å…ç©ºé–“ä¸è¶³</li>
<li><strong>å®¹éŒ¯è¨­è¨ˆ</strong>: å–®å€‹æ®µè½å¤±æ•—ä¸å½±éŸ¿æ•´é«”è™•ç†</li>
</ul>
<h2 id="æœªä¾†ç›®æ¨™"><a href="#æœªä¾†ç›®æ¨™" class="headerlink" title="æœªä¾†ç›®æ¨™"></a>æœªä¾†ç›®æ¨™</h2><ul>
<li>åŠ ä¸Š RAG (æª¢ç´¢å¢å¼·ç”Ÿæˆ)</li>
<li>æ”¯æ´æ›´å¤šè¦–é »æ ¼å¼</li>
<li>å¯¦ç¾æ‰¹é‡è™•ç†åŠŸèƒ½</li>
<li>æ·»åŠ Webç•Œé¢</li>
<li>å„ªåŒ–è™•ç†é€Ÿåº¦</li>
</ul>
<h2 id="ğŸ“„-æˆæ¬Šæ¢æ¬¾"><a href="#ğŸ“„-æˆæ¬Šæ¢æ¬¾" class="headerlink" title="ğŸ“„ æˆæ¬Šæ¢æ¬¾"></a>ğŸ“„ æˆæ¬Šæ¢æ¬¾</h2><p>æœ¬å°ˆæ¡ˆæ¡ç”¨ GPLv3 æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ <a href="LICENSE">LICENSE</a> æ–‡ä»¶</p>
<h2 id="ğŸ™-è‡´è¬"><a href="#ğŸ™-è‡´è¬" class="headerlink" title="ğŸ™ è‡´è¬"></a>ğŸ™ è‡´è¬</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Rudrabha/Wav2Lip">Wav2Lip</a> - å˜´å½¢åŒæ­¥æŠ€è¡“</li>
<li><a target="_blank" rel="noopener" href="https://github.com/coqui-ai/TTS">XTTS-v2</a> - èªéŸ³å…‹éš†æ¨¡å‹</li>
<li><a target="_blank" rel="noopener" href="https://github.com/JaidedAI/EasyOCR">EasyOCR</a> - OCR æ–‡å­—è­˜åˆ¥</li>
<li><a target="_blank" rel="noopener" href="https://ai.google.dev/">Google Gemini</a> - èªéŸ³è­˜åˆ¥èˆ‡ç¿»è­¯ API</li>
</ul>
<h2 id="ğŸ“-è¯çµ¡æ–¹å¼"><a href="#ğŸ“-è¯çµ¡æ–¹å¼" class="headerlink" title="ğŸ“ è¯çµ¡æ–¹å¼"></a>ğŸ“ è¯çµ¡æ–¹å¼</h2><p>å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹é€éä»¥ä¸‹æ–¹å¼è¯çµ¡ï¼š</p>
<ul>
<li>æäº¤ <a target="_blank" rel="noopener" href="https://github.com/if-else-master/Deep-Video-Translation.git">GitHub Issue</a></li>
<li>é›»å­éƒµä»¶ï¼š<a href="mailto:&#114;&#x61;&#121;&#99;&#53;&#55;&#52;&#x32;&#x39;&#64;&#103;&#109;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#109;">rayc57429@gmail.com</a></li>
</ul>
<hr>
<p><strong>â­ å¦‚æœé€™å€‹å°ˆæ¡ˆå°æ‚¨æœ‰å¹«åŠ©ï¼Œè«‹çµ¦æˆ‘å€‘ä¸€é¡†æ˜Ÿæ˜Ÿï¼</strong></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/RayBlog/tags/%E8%BB%9F%E9%AB%94/" rel="tag"># è»Ÿé«”</a>
              <a href="/RayBlog/tags/AI/" rel="tag"># AI</a>
              <a href="/RayBlog/tags/%E5%80%8B%E4%BA%BA%E5%B0%88%E6%A1%88/" rel="tag"># å€‹äººå°ˆæ¡ˆ</a>
              <a href="/RayBlog/tags/%E6%95%99%E8%82%B2/" rel="tag"># æ•™è‚²</a>
              <a href="/RayBlog/tags/%E5%9C%8B%E9%9A%9B%E4%BA%A4%E6%B5%81/" rel="tag"># åœ‹éš›äº¤æµ</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/RayBlog/2024/09/01/3D%20%E5%88%97%E5%8D%B0%E6%A9%9F%E6%95%99%E5%AD%B8%E5%BD%B1%E7%89%87/" rel="prev" title="3D åˆ—å°æ©Ÿæ•™å­¸å½±ç‰‡">
      <i class="fa fa-chevron-left"></i> 3D åˆ—å°æ©Ÿæ•™å­¸å½±ç‰‡
    </a></div>
      <div class="post-nav-item">
    <a href="/RayBlog/2025/05/05/2025IEYI%E4%B8%96%E7%95%8C%E9%9D%92%E5%B0%91%E5%B9%B4%E7%99%BC%E6%98%8E%E5%B1%95/" rel="next" title="2025 IEYI ä¸–ç•Œé’å°‘å¹´ç™¼æ˜å±•ï¼šè‡ºç£é¸æ‹”è³½">
      2025 IEYI ä¸–ç•Œé’å°‘å¹´ç™¼æ˜å±•ï¼šè‡ºç£é¸æ‹”è³½ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®éŒ„
        </li>
        <li class="sidebar-nav-overview">
          æœ¬ç«™æ¦‚è¦
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Deep-Video-Translation"><span class="nav-number">1.</span> <span class="nav-text">Deep-Video-Translation</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%93%8B-%E5%89%8D%E8%A8%80"><span class="nav-number">1.1.</span> <span class="nav-text">ğŸ“‹ å‰è¨€</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%8E%AF-%E5%B0%88%E6%A1%88%E7%89%B9%E8%89%B2"><span class="nav-number">1.2.</span> <span class="nav-text">ğŸ¯ å°ˆæ¡ˆç‰¹è‰²</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%9B%A0%EF%B8%8F-%E6%8A%80%E8%A1%93%E6%9E%B6%E6%A7%8B"><span class="nav-number">1.3.</span> <span class="nav-text">ğŸ› ï¸ æŠ€è¡“æ¶æ§‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E9%96%8B%E6%BA%90%E7%B5%84%E4%BB%B6"><span class="nav-number">1.3.1.</span> <span class="nav-text">æ ¸å¿ƒé–‹æºçµ„ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A5%E5%85%B7%E8%88%87%E6%A1%86%E6%9E%B6"><span class="nav-number">1.3.2.</span> <span class="nav-text">å·¥å…·èˆ‡æ¡†æ¶</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%9A%80-%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA"><span class="nav-number">1.4.</span> <span class="nav-text">ğŸš€ åŠŸèƒ½å±•ç¤º</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E8%AA%9E%E9%9F%B3%E8%AD%98%E5%88%A5%E8%88%87%E7%BF%BB%E8%AD%AF"><span class="nav-number">1.4.1.</span> <span class="nav-text">1. èªéŸ³è­˜åˆ¥èˆ‡ç¿»è­¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%AA%9E%E9%9F%B3%E5%85%8B%E9%9A%86-XTTS-v2"><span class="nav-number">1.4.2.</span> <span class="nav-text">2. èªéŸ³å…‹éš† (XTTS-v2)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%98%B4%E5%BD%A2%E5%90%8C%E6%AD%A5-Wav2Lip"><span class="nav-number">1.4.3.</span> <span class="nav-text">3. å˜´å½¢åŒæ­¥ (Wav2Lip)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%99%BA%E8%83%BD%E5%88%86%E6%AE%B5%E8%99%95%E7%90%86%E7%B3%BB%E7%B5%B1"><span class="nav-number">1.4.4.</span> <span class="nav-text">4. æ™ºèƒ½åˆ†æ®µè™•ç†ç³»çµ±</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%F0%9F%A7%A0-%E6%99%BA%E8%83%BD%E5%88%86%E6%AE%B5%E8%99%95%E7%90%86%E6%9E%B6%E6%A7%8B"><span class="nav-number">1.4.4.1.</span> <span class="nav-text">ğŸ§  æ™ºèƒ½åˆ†æ®µè™•ç†æ¶æ§‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%F0%9F%94%8D-%E4%BA%BA%E8%87%89%E8%88%87%E7%B0%A1%E5%A0%B1%E8%AD%98%E5%88%A5%E6%8A%80%E8%A1%93"><span class="nav-number">1.4.4.2.</span> <span class="nav-text">ğŸ” äººè‡‰èˆ‡ç°¡å ±è­˜åˆ¥æŠ€è¡“</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%F0%9F%8E%AD-%E4%BA%BA%E8%87%89%E6%AE%B5%E8%90%BD%E8%99%95%E7%90%86%E6%B5%81%E7%A8%8B"><span class="nav-number">1.4.4.3.</span> <span class="nav-text">ğŸ­ äººè‡‰æ®µè½è™•ç†æµç¨‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%F0%9F%93%8A-%E7%B0%A1%E5%A0%B1%E6%AE%B5%E8%90%BD%E8%99%95%E7%90%86%E6%B5%81%E7%A8%8B"><span class="nav-number">1.4.4.4.</span> <span class="nav-text">ğŸ“Š ç°¡å ±æ®µè½è™•ç†æµç¨‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%F0%9F%8E%AC-%E6%99%BA%E8%83%BD%E5%90%88%E4%BD%B5%E7%B3%BB%E7%B5%B1"><span class="nav-number">1.4.4.5.</span> <span class="nav-text">ğŸ¬ æ™ºèƒ½åˆä½µç³»çµ±</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%93%A6-%E5%AE%89%E8%A3%9D%E6%8C%87%E5%8D%97"><span class="nav-number">1.5.</span> <span class="nav-text">ğŸ“¦ å®‰è£æŒ‡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%92%B0%E5%A2%83%E8%A6%81%E6%B1%82"><span class="nav-number">1.5.1.</span> <span class="nav-text">ç’°å¢ƒè¦æ±‚</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%9D%E6%AD%A5%E9%A9%9F"><span class="nav-number">1.5.2.</span> <span class="nav-text">å®‰è£æ­¥é©Ÿ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%8E%AE-%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">1.6.</span> <span class="nav-text">ğŸ® ä½¿ç”¨æ–¹æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.6.1.</span> <span class="nav-text">å‘½ä»¤è¡Œæ¨¡å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GUI-%E6%93%8D%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="nav-number">1.6.2.</span> <span class="nav-text">GUI æ“ä½œæµç¨‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%99%BA%E8%83%BD%E5%88%86%E6%AE%B5%E8%99%95%E7%90%86%E9%9A%8E%E6%AE%B5"><span class="nav-number">1.6.3.</span> <span class="nav-text">æ™ºèƒ½åˆ†æ®µè™•ç†éšæ®µ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%99%BA%E8%83%BD%E5%88%86%E6%AE%B5%E8%99%95%E7%90%86%E6%B5%81%E7%A8%8B"><span class="nav-number">1.6.4.</span> <span class="nav-text">æ™ºèƒ½åˆ†æ®µè™•ç†æµç¨‹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%93%81-%E5%B0%88%E6%A1%88%E7%B5%90%E6%A7%8B"><span class="nav-number">1.7.</span> <span class="nav-text">ğŸ“ å°ˆæ¡ˆçµæ§‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%94%AC-%E6%8A%80%E8%A1%93%E5%89%B5%E6%96%B0%E8%88%87%E5%8E%9F%E7%90%86"><span class="nav-number">1.8.</span> <span class="nav-text">ğŸ”¬ æŠ€è¡“å‰µæ–°èˆ‡åŸç†</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E6%8A%80%E8%A1%93%E5%89%B5%E6%96%B0"><span class="nav-number">1.8.1.</span> <span class="nav-text">æ ¸å¿ƒæŠ€è¡“å‰µæ–°</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%99%BA%E8%83%BD%E5%88%86%E6%AE%B5%E7%AE%97%E6%B3%95"><span class="nav-number">1.8.1.1.</span> <span class="nav-text">1. æ™ºèƒ½åˆ†æ®µç®—æ³•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E8%A7%A3%E6%9E%90%E5%BA%A6%E7%B5%B1%E4%B8%80%E6%8A%80%E8%A1%93"><span class="nav-number">1.8.1.2.</span> <span class="nav-text">2. è§£æåº¦çµ±ä¸€æŠ€è¡“</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%A4%9A%E9%87%8D%E5%AE%B9%E9%8C%AF%E6%A9%9F%E5%88%B6"><span class="nav-number">1.8.1.3.</span> <span class="nav-text">3. å¤šé‡å®¹éŒ¯æ©Ÿåˆ¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E9%80%90%E5%B9%80OCR%E7%BF%BB%E8%AD%AF"><span class="nav-number">1.8.1.4.</span> <span class="nav-text">4. é€å¹€OCRç¿»è­¯</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E8%A1%93%E9%9B%A3%E9%BB%9E%E7%AA%81%E7%A0%B4"><span class="nav-number">1.8.2.</span> <span class="nav-text">æŠ€è¡“é›£é»çªç ´</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%95%8F%E9%A1%8C1%EF%BC%9A%E4%B8%8D%E5%90%8C%E6%A8%A1%E5%9E%8B%E8%BC%B8%E5%87%BA%E6%A0%BC%E5%BC%8F%E4%B8%8D%E7%B5%B1%E4%B8%80"><span class="nav-number">1.8.2.1.</span> <span class="nav-text">å•é¡Œ1ï¼šä¸åŒæ¨¡å‹è¼¸å‡ºæ ¼å¼ä¸çµ±ä¸€</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%95%8F%E9%A1%8C2%EF%BC%9A%E8%A6%96%E9%A0%BB%E5%90%88%E4%BD%B5%E5%85%BC%E5%AE%B9%E6%80%A7%E5%B7%AE"><span class="nav-number">1.8.2.2.</span> <span class="nav-text">å•é¡Œ2ï¼šè¦–é »åˆä½µå…¼å®¹æ€§å·®</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%95%8F%E9%A1%8C3%EF%BC%9AOCR%E7%BF%BB%E8%AD%AF%E6%95%88%E6%9E%9C%E4%B8%8D%E9%80%A3%E7%BA%8C"><span class="nav-number">1.8.2.3.</span> <span class="nav-text">å•é¡Œ3ï¼šOCRç¿»è­¯æ•ˆæœä¸é€£çºŒ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E5%84%AA%E5%8C%96%E7%AD%96%E7%95%A5"><span class="nav-number">1.8.3.</span> <span class="nav-text">æ€§èƒ½å„ªåŒ–ç­–ç•¥</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%AA%E4%BE%86%E7%9B%AE%E6%A8%99"><span class="nav-number">1.9.</span> <span class="nav-text">æœªä¾†ç›®æ¨™</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%93%84-%E6%8E%88%E6%AC%8A%E6%A2%9D%E6%AC%BE"><span class="nav-number">1.10.</span> <span class="nav-text">ğŸ“„ æˆæ¬Šæ¢æ¬¾</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%99%8F-%E8%87%B4%E8%AC%9D"><span class="nav-number">1.11.</span> <span class="nav-text">ğŸ™ è‡´è¬</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%93%9E-%E8%81%AF%E7%B5%A1%E6%96%B9%E5%BC%8F"><span class="nav-number">1.12.</span> <span class="nav-text">ğŸ“ è¯çµ¡æ–¹å¼</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ray"
      src="/RayBlog/images/RayMe.png">
  <p class="site-author-name" itemprop="name">Ray</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/RayBlog/archives/">
        
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">æ–‡ç« </span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/RayBlog/tags/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">æ¨™ç±¤</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/if-else-master" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;if-else-master" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/RayBlog/rayc57429@gmail.com" title="E-Mail â†’ rayc57429@gmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.instagram.com/rayc57429/" title="Instagram â†’ https:&#x2F;&#x2F;www.instagram.com&#x2F;rayc57429&#x2F;" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i>Instagram</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ray</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼·åŠ›é©…å‹•
  </div><script>
// å‹•æ…‹ Canvas Nest å‹•ç•«ï¼Œæ”¯æŒæ·±è‰²æ¨¡å¼åˆ‡æ›
(function() {
  // æª¢æ¸¬ç•¶å‰ä¸»é¡Œæ¨¡å¼
  function getCurrentTheme() {
    return document.body.classList.contains('darkmode-on') ? 'dark' : 'light';
  }
  
  // æ ¹æ“šä¸»é¡Œè¨­å®šé¡è‰²
  function getCanvasColor() {
    return getCurrentTheme() === 'dark' ? '255,255,255' : '0,0,255';
  }
  
  // è¼‰å…¥ Canvas Nest
  function loadCanvasNest() {
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js';
    script.setAttribute('color', getCanvasColor());
    script.setAttribute('opacity', '0.5');
    script.setAttribute('zIndex', '-1');
    script.setAttribute('count', '99');
    document.head.appendChild(script);
  }
  
  // ç›£è½æ·±è‰²æ¨¡å¼åˆ‡æ›
  function observeThemeChange() {
    const observer = new MutationObserver(function(mutations) {
      mutations.forEach(function(mutation) {
        if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
          // ç•¶æª¢æ¸¬åˆ°æ·±è‰²æ¨¡å¼åˆ‡æ›æ™‚ï¼Œé‡æ–°è¼‰å…¥å‹•ç•«
          const canvases = document.querySelectorAll('canvas');
          canvases.forEach(canvas => {
            if (canvas.style.position === 'fixed') {
              canvas.remove();
            }
          });
          
          // å»¶é²é‡æ–°è¼‰å…¥ä»¥ç¢ºä¿å¹³æ»‘éæ¸¡
          setTimeout(() => {
            loadCanvasNest();
          }, 300);
        }
      });
    });
    
    observer.observe(document.body, {
      attributes: true,
      attributeFilter: ['class']
    });
  }
  
  // åˆå§‹åŒ–
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function() {
      loadCanvasNest();
      observeThemeChange();
    });
  } else {
    loadCanvasNest();
    observeThemeChange();
  }
})();
</script> 

        








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/RayBlog/lib/canvas-nest/canvas-nest.min.js"></script>
  <script size="300" alpha="0.6" zIndex="-1" src="/RayBlog/lib/canvas-ribbon/canvas-ribbon.js"></script>
  <script src="/RayBlog/lib/anime.min.js"></script>
  <script src="/RayBlog/lib/velocity/velocity.min.js"></script>
  <script src="/RayBlog/lib/velocity/velocity.ui.min.js"></script>

<script src="/RayBlog/js/utils.js"></script>

<script src="/RayBlog/js/motion.js"></script>


<script src="/RayBlog/js/schemes/pisces.js"></script>


<script src="/RayBlog/js/next-boot.js"></script>


  <script defer src="/RayBlog/lib/three/three.min.js"></script>
    <script defer src="/RayBlog/lib/three/three-waves.min.js"></script>
    <script defer src="/RayBlog/lib/three/canvas_lines.min.js"></script>
    <script defer src="/RayBlog/lib/three/canvas_sphere.min.js"></script>


  




  
<script src="/RayBlog/js/local-search.js"></script>













  

  
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: '#9FA2A2',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: 'ğŸŒ“',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>

<script src="/RayBlog/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/RayBlog/live2dw/assets/ni-j.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body>
</html>
